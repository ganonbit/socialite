# Migration `20201107010640-migration`

This migration has been generated by hyliancoder at 11/6/2020, 6:06:40 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Channel" ADD COLUMN "updatedAt" timestamp(3)   NOT NULL 

ALTER TABLE "public"."Message" ADD COLUMN "updatedAt" timestamp(3)   NOT NULL 

ALTER TABLE "public"."Post" DROP COLUMN "url",
ADD COLUMN "slug" text   

ALTER TABLE "public"."User" ADD COLUMN "updatedAt" timestamp(3)   NOT NULL 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201107004801-migration..20201107010640-migration
--- datamodel.dml
+++ datamodel.dml
@@ -1,9 +1,9 @@
 datasource DS {
   // optionally set multiple providers
   // example: provider = ["sqlite", "postgresql"]
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider      = "prisma-client-js"
@@ -58,8 +58,9 @@
 //Models
 model User {
   id            String         @id @default(uuid())
   createdAt     DateTime       @default(now())
+  updatedAt     DateTime       @updatedAt
   email         String         @unique
   username      String         @unique
   firstName     String
   lastName      String
@@ -83,9 +84,9 @@
   state      ContentState @default(UNPUBLISHED)
   title      String
   content    String
   image      String?
-  url        String
+  slug       String?
   author     User?        @relation(fields: [authorId], references: [id])
   authorId   String?
   metadata   Json
   isFeatured Boolean      @default(false)
@@ -106,8 +107,9 @@
 model Message {
   id        String       @id @default(uuid())
   createdAt DateTime     @default(now())
+  updatedAt DateTime     @updatedAt
   state     ContentState @default(UNPUBLISHED)
   content   String
   sentBy    User?        @relation(fields: [sentById], references: [id])
   sentById  String?      @map("sentBy")
@@ -120,8 +122,9 @@
   title     String
   users     User[]
   messages  Message[]
   createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
 }
 model SocialHandle {
   id        Int      @id @default(autoincrement())
```


